<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #272727;
        }

        .dart {
            position: absolute;
            width: 90px;
            height: 150px;
            background: url('https://res.cloudinary.com/di2t8an4z/image/upload/v1690580573/chicken_vzyhhn.png') no-repeat center;
            background-size: contain;
            transform: rotate(-90deg);
            transform-origin: top;
            transition: transform 0.3s;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="dart"></div>
    <script>
        const dart = document.querySelector('.dart');

        let currentDart;
        let originalX, originalY;
        let flightStartTime, speed;
        let angle = 0;

        dart.style.left = '200px';
        dart.style.top = '500px';

        function dragStart(e) {
            if (currentDart) return;
            e.preventDefault();
            currentDart = this;
            originalX = e.clientX;
            originalY = e.clientY;
        }

        function dragEnd(e) {
            if (!currentDart) return;
            flightStartTime = Date.now();
            let dx = e.clientX - originalX;
            let dy = originalY - e.clientY;
            let distance = Math.sqrt(dx * dx + dy * dy);
            speed = distance * 0.005;

            requestAnimationFrame(fly);
        }

        function drag(e) {
            if (!currentDart) return;
            e.preventDefault();

            let dx = e.clientX - originalX;
            let dy = originalY - e.clientY;

            // calculate angle
            angle = Math.atan2(dy, dx) * 180 / Math.PI;
            currentDart.style.transform = `rotate(${angle}deg)`;
        }

        function fly() {
            let elapsed = (Date.now() - flightStartTime) * speed;
            let newX = parseFloat(currentDart.style.left) + Math.cos(angle * Math.PI / 180) * elapsed;
            let newY = parseFloat(currentDart.style.top) - Math.sin(angle * Math.PI / 180) * elapsed;
            currentDart.style.left = newX + 'px';
            currentDart.style.top = newY + 'px';

            if (newX <= window.innerWidth && newY >= 0) {
                requestAnimationFrame(fly);
            } else {
                currentDart = null;
            }
        }

        dart.addEventListener('mousedown', dragStart);
        document.addEventListener('mouseup', dragEnd);
        document.addEventListener('mousemove', drag);
    </script>
</body>
</html>
